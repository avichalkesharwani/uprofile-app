{"ast":null,"code":"var _jsxFileName = \"/Users/avikesha1/workspace-dev/react-auth0-spa-sdk-ga/src/contexts/auth0-context.js\";\nimport React, { Component, createContext, useContext } from 'react';\nimport createAuth0Client from '@auth0/auth0-spa-js'; // create the context\n\nexport const Auth0Context = createContext();\nexport const useAuth0 = () => useContext(Auth0Context); // create a provider\n\nexport class Auth0Provider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      auth0Client: null,\n      isLoading: true,\n      isAuthenticated: false,\n      user: null\n    };\n    this.config = {\n      domain: 'avi-bootcamp.au.auth0.com',\n      client_id: 'LgWFna2L2GKf6UTuRwde29DV7MJpPsQL',\n      redirect_uri: window.location.origin\n    };\n\n    this.initializeAuth0 = async () => {\n      const auth0Client = await createAuth0Client(this.config);\n      this.setState({\n        auth0Client\n      }); // check to see if they have been redirected after login\n\n      if (window.location.search.includes('code=')) {\n        return this.handleRedirectCallback();\n      }\n\n      const isAuthenticated = await auth0Client.isAuthenticated();\n      const user = isAuthenticated ? await auth0Client.getUser() : null;\n      this.setState({\n        isLoading: false,\n        isAuthenticated,\n        user\n      });\n    };\n\n    this.handleRedirectCallback = async () => {\n      this.setState({\n        isLoading: true\n      });\n      await this.state.auth0Client.handleRedirectCallback();\n      const user = await this.state.auth0Client.getUser();\n      this.setState({\n        user,\n        isAuthenticated: true,\n        isLoading: false\n      });\n      window.history.replaceState({}, document.title, window.location.pathname);\n    };\n  }\n\n  componentDidMount() {\n    this.initializeAuth0();\n  } // initialize the auth0 library\n\n\n  render() {\n    const {\n      auth0Client,\n      isLoading,\n      isAuthenticated,\n      user\n    } = this.state;\n    const {\n      children\n    } = this.props;\n    const configObject = {\n      isLoading,\n      isAuthenticated,\n      user,\n      loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n      getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n      getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n      logout: (...p) => auth0Client.logout(...p)\n    };\n    return /*#__PURE__*/React.createElement(Auth0Context.Provider, {\n      value: configObject,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 10\n      }\n    }, children);\n  }\n\n}","map":{"version":3,"sources":["/Users/avikesha1/workspace-dev/react-auth0-spa-sdk-ga/src/contexts/auth0-context.js"],"names":["React","Component","createContext","useContext","createAuth0Client","Auth0Context","useAuth0","Auth0Provider","state","auth0Client","isLoading","isAuthenticated","user","config","domain","client_id","redirect_uri","window","location","origin","initializeAuth0","setState","search","includes","handleRedirectCallback","getUser","history","replaceState","document","title","pathname","componentDidMount","render","children","props","configObject","loginWithRedirect","p","getTokenSilently","getIdTokenClaims","logout"],"mappings":"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","sourcesContent":["import React, { Component, createContext, useContext } from 'react';\nimport createAuth0Client from '@auth0/auth0-spa-js';\n\n// create the context\nexport const Auth0Context = createContext();\nexport const useAuth0 = () => useContext(Auth0Context);\n\n// create a provider\nexport class Auth0Provider extends Component {\n\tstate = {\n\t\tauth0Client: null,\n\t\tisLoading: true,\n\t\tisAuthenticated: false,\n\t\tuser: null\n\t};\n\tconfig = {\n\t\tdomain: 'avi-bootcamp.au.auth0.com',\n\t\tclient_id: 'LgWFna2L2GKf6UTuRwde29DV7MJpPsQL',\n\t\tredirect_uri: window.location.origin\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.initializeAuth0();\n\t}\n\n\t// initialize the auth0 library\n\tinitializeAuth0 = async () => {\n\t\tconst auth0Client = await createAuth0Client(this.config);\n\t\tthis.setState({ auth0Client });\n\n\t\t// check to see if they have been redirected after login\n\t\tif (window.location.search.includes('code=')) {\n\t\t\treturn this.handleRedirectCallback();\n\t\t}\n\n\t\tconst isAuthenticated = await auth0Client.isAuthenticated();\n\t\tconst user = isAuthenticated ? await auth0Client.getUser() : null;\n\t\tthis.setState({ isLoading: false, isAuthenticated, user });\n\t};\n\n\thandleRedirectCallback = async () => {\n\t\tthis.setState({ isLoading: true });\n\n\t\tawait this.state.auth0Client.handleRedirectCallback();\n\t\tconst user = await this.state.auth0Client.getUser();\n\n\t\tthis.setState({ user, isAuthenticated: true, isLoading: false });\n\t\twindow.history.replaceState({}, document.title, window.location.pathname);\n\t};\n\n\trender() {\n\t\tconst { auth0Client, isLoading, isAuthenticated, user } = this.state;\n\t\tconst { children } = this.props;\n\n\t\tconst configObject = {\n\t\t\tisLoading,\n\t\t\tisAuthenticated,\n\t\t\tuser,\n\t\t\tloginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n\t\t\tgetTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n\t\t\tgetIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n\t\t\tlogout: (...p) => auth0Client.logout(...p)\n\t\t};\n\n\t\treturn <Auth0Context.Provider value={configObject}>{children}</Auth0Context.Provider>;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}